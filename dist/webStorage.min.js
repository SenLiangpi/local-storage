/*
 * @Author: pipi(皮皮的皮卡丘)
 * @Email: pisenliang@gmail.com
 * @github: https://github.com/SenLiangpi/
 * @LastEditors: pipi
 * @Date: 2019-05-08 16:30:06
 * @LastEditTime: 2019-05-09 09:04:35
 * webStorage.js v1.0
 */
window.navigator.cookieEnabled&&alert("not support");var pipi_cookie=function(){};pipi_cookie.prototype.add=function(a,b,c,d){if((new pipi_cookie).botain(a).success)return{success:!1,message:"cookie name repeat"};var e=new Date;e.setTime(e.getTime()+6E4*d);document.cookie=a+"\x3d"+b+";Path\x3d"+c+";expires\x3d"+e.toGMTString();return{success:!0,message:"ok"}};pipi_cookie.prototype.botain=function(a){var b;return(b=document.cookie.match(new RegExp("(^| )"+a+"\x3d([^;]*)(;|$)")))?{success:!0,message:unescape(b[2])}:{success:!1,message:"Not found"}};pipi_cookie.prototype.revise=function(a,b,c,d){if((new pipi_cookie).botain(a).success){var e=new Date;e.setTime(e.getTime()+6E4*d);document.cookie=a+"\x3d"+b+";Path\x3d"+c+";expires\x3d"+e.toGMTString();return{success:!0,message:"ok"}}return{success:!1,message:"Name does not exist"}};pipi_cookie.prototype["delete"]=function(a){if((new pipi_cookie).botain(a).success){var b=new Date;b.setTime(b.getTime());document.cookie=a+"\x3d0;Path\x3d/;expires\x3d"+b.toGMTString();return{success:!0,message:"ok"}}return{success:!1,message:"Name does not exist"}};var pipi_localStorage=function(){};pipi_localStorage.prototype.add=function(a,b){return null==localStorage.getItem(a)?(localStorage.setItem(a,b),{success:!0,message:"ok"}):{success:!1,message:"cookie name repeat"}};pipi_localStorage.prototype.botain=function(a){return null==localStorage.getItem(a)?{success:!1,message:"Not found"}:{success:!0,message:localStorage.getItem(a)}};pipi_localStorage.prototype.revise=function(a,b){if(null==localStorage.getItem(a))return{success:!1,message:"Name does not exist"};localStorage.setItem(a,b);return{success:!0,message:"ok"}};pipi_localStorage.prototype["delete"]=function(a){if(null==localStorage.getItem(a))return{success:!1,message:"Name does not exist"};localStorage.removeItem(a);return{success:!0,message:"ok"}};window.indexedDB||alert("Your browser doesn't support a stable version of IndexedDB. Such and such feature will not be available.");var pipiIndexDB,pipidb,pipi_indexedDB=function(){};pipi_indexedDB.prototype.databaseOpen=function(a,b,c){pipiIndexDB=window.indexedDB.open(a,b);pipiIndexDB.onerror=function(a){console.log("Failure");console.log(a)};pipiIndexDB.onsuccess=function(a){console.log("Success");console.log(a);pipidb=pipiIndexDB.result};pipiIndexDB.onupgradeneeded=function(a){console.log("Upgrading...");console.log(a);pipidb=a.target.result;for(a=0;a<c.length;a++)pipidb.objectStoreNames.contains(c[a].name)?console.log(c[a].name+"\u8868\u540d\u91cd\u590d"):(pipidb.createObjectStore(c[a].name,{keyPath:c[a].key}),console.log(c[a].name+"\u8868\u521b\u5efa\u6210\u529f"))}};pipi_indexedDB.prototype.add=function(a,b,c,d,e){a=pipidb.transaction([a],"readwrite").objectStore(a).add({name:b,val:c});a.onsuccess=d;a.onerror=e};pipi_indexedDB.prototype.read=function(a,b,c,d){a=pipidb.transaction([a]).objectStore(a).get(b);a.onsuccess=c;a.onerror=d};pipi_indexedDB.prototype.readAll=function(a,b,c){a=pipidb.transaction([a],"readonly").objectStore(a).openCursor();a.onsuccess=b;a.onerror=c};pipi_indexedDB.prototype.update=function(a,b,c,d,e){a=pipidb.transaction([a],"readwrite").objectStore(a).put({name:b,val:c});a.onsuccess=d;a.onerror=e};pipi_indexedDB.prototype.remove=function(a,b,c,d){a=pipidb.transaction([a],"readwrite").objectStore(a)["delete"](b);a.onsuccess=c;a.onerror=d};